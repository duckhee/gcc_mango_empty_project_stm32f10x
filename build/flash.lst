ARM GAS  /var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"flash.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.vLEDFlashTask,"ax",%progbits
  20              		.align	2
  21              		.thumb
  22              		.thumb_func
  24              	vLEDFlashTask:
  25              	.LFB33:
  26              		.file 1 "FreeRTOS/test_Src/flash.c"
   1:FreeRTOS/test_Src/flash.c **** /*
   2:FreeRTOS/test_Src/flash.c ****  * FreeRTOS Kernel V10.1.1
   3:FreeRTOS/test_Src/flash.c ****  * Copyright (C) 2018 Amazon.com, Inc. or its affiliates.  All Rights Reserved.
   4:FreeRTOS/test_Src/flash.c ****  *
   5:FreeRTOS/test_Src/flash.c ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   6:FreeRTOS/test_Src/flash.c ****  * this software and associated documentation files (the "Software"), to deal in
   7:FreeRTOS/test_Src/flash.c ****  * the Software without restriction, including without limitation the rights to
   8:FreeRTOS/test_Src/flash.c ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
   9:FreeRTOS/test_Src/flash.c ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  10:FreeRTOS/test_Src/flash.c ****  * subject to the following conditions:
  11:FreeRTOS/test_Src/flash.c ****  *
  12:FreeRTOS/test_Src/flash.c ****  * The above copyright notice and this permission notice shall be included in all
  13:FreeRTOS/test_Src/flash.c ****  * copies or substantial portions of the Software.
  14:FreeRTOS/test_Src/flash.c ****  *
  15:FreeRTOS/test_Src/flash.c ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:FreeRTOS/test_Src/flash.c ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  17:FreeRTOS/test_Src/flash.c ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  18:FreeRTOS/test_Src/flash.c ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  19:FreeRTOS/test_Src/flash.c ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  20:FreeRTOS/test_Src/flash.c ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  21:FreeRTOS/test_Src/flash.c ****  *
  22:FreeRTOS/test_Src/flash.c ****  * http://www.FreeRTOS.org
  23:FreeRTOS/test_Src/flash.c ****  * http://aws.amazon.com/freertos
  24:FreeRTOS/test_Src/flash.c ****  *
  25:FreeRTOS/test_Src/flash.c ****  * 1 tab == 4 spaces!
  26:FreeRTOS/test_Src/flash.c ****  */
  27:FreeRTOS/test_Src/flash.c **** 
  28:FreeRTOS/test_Src/flash.c **** /**
  29:FreeRTOS/test_Src/flash.c ****  * This version of flash .c is for use on systems that have limited stack space
  30:FreeRTOS/test_Src/flash.c ****  * and no display facilities.  The complete version can be found in the
  31:FreeRTOS/test_Src/flash.c ****  * Demo/Common/Full directory.
  32:FreeRTOS/test_Src/flash.c ****  *
ARM GAS  /var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s 			page 2


  33:FreeRTOS/test_Src/flash.c ****  * Three tasks are created, each of which flash an LED at a different rate.  The first
  34:FreeRTOS/test_Src/flash.c ****  * LED flashes every 200ms, the second every 400ms, the third every 600ms.
  35:FreeRTOS/test_Src/flash.c ****  *
  36:FreeRTOS/test_Src/flash.c ****  * The LED flash tasks provide instant visual feedback.  They show that the scheduler
  37:FreeRTOS/test_Src/flash.c ****  * is still operational.
  38:FreeRTOS/test_Src/flash.c ****  *
  39:FreeRTOS/test_Src/flash.c ****  */
  40:FreeRTOS/test_Src/flash.c **** 
  41:FreeRTOS/test_Src/flash.c **** 
  42:FreeRTOS/test_Src/flash.c **** #include <stdlib.h>
  43:FreeRTOS/test_Src/flash.c **** 
  44:FreeRTOS/test_Src/flash.c **** /* Scheduler include files. */
  45:FreeRTOS/test_Src/flash.c **** #include "FreeRTOS.h"
  46:FreeRTOS/test_Src/flash.c **** #include "task.h"
  47:FreeRTOS/test_Src/flash.c **** 
  48:FreeRTOS/test_Src/flash.c **** /* Demo program include files. */
  49:FreeRTOS/test_Src/flash.c **** #include "partest.h"
  50:FreeRTOS/test_Src/flash.c **** #include "flash.h"
  51:FreeRTOS/test_Src/flash.c **** 
  52:FreeRTOS/test_Src/flash.c **** #define ledSTACK_SIZE		configMINIMAL_STACK_SIZE
  53:FreeRTOS/test_Src/flash.c **** #define ledNUMBER_OF_LEDS	( 3 )
  54:FreeRTOS/test_Src/flash.c **** #define ledFLASH_RATE_BASE	( ( TickType_t ) 333 )
  55:FreeRTOS/test_Src/flash.c **** 
  56:FreeRTOS/test_Src/flash.c **** /* Variable used by the created tasks to calculate the LED number to use, and
  57:FreeRTOS/test_Src/flash.c **** the rate at which they should flash the LED. */
  58:FreeRTOS/test_Src/flash.c **** static volatile UBaseType_t uxFlashTaskNumber = 0;
  59:FreeRTOS/test_Src/flash.c **** 
  60:FreeRTOS/test_Src/flash.c **** /* The task that is created three times. */
  61:FreeRTOS/test_Src/flash.c **** static portTASK_FUNCTION_PROTO( vLEDFlashTask, pvParameters );
  62:FreeRTOS/test_Src/flash.c **** 
  63:FreeRTOS/test_Src/flash.c **** /*-----------------------------------------------------------*/
  64:FreeRTOS/test_Src/flash.c **** 
  65:FreeRTOS/test_Src/flash.c **** void vStartLEDFlashTasks( UBaseType_t uxPriority )
  66:FreeRTOS/test_Src/flash.c **** {
  67:FreeRTOS/test_Src/flash.c **** BaseType_t xLEDTask;
  68:FreeRTOS/test_Src/flash.c **** 
  69:FreeRTOS/test_Src/flash.c **** 	/* Create the three tasks. */
  70:FreeRTOS/test_Src/flash.c **** 	for( xLEDTask = 0; xLEDTask < ledNUMBER_OF_LEDS; ++xLEDTask )
  71:FreeRTOS/test_Src/flash.c **** 	{
  72:FreeRTOS/test_Src/flash.c **** 		/* Spawn the task. */
  73:FreeRTOS/test_Src/flash.c **** 		xTaskCreate( vLEDFlashTask, "LEDx", ledSTACK_SIZE, NULL, uxPriority, ( TaskHandle_t * ) NULL );
  74:FreeRTOS/test_Src/flash.c **** 	}
  75:FreeRTOS/test_Src/flash.c **** }
  76:FreeRTOS/test_Src/flash.c **** /*-----------------------------------------------------------*/
  77:FreeRTOS/test_Src/flash.c **** 
  78:FreeRTOS/test_Src/flash.c **** static portTASK_FUNCTION( vLEDFlashTask, pvParameters )
  79:FreeRTOS/test_Src/flash.c **** {
  27              		.loc 1 79 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 30B5     		push	{r4, r5, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 12
  35              		.cfi_offset 4, -12
  36              		.cfi_offset 5, -8
ARM GAS  /var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s 			page 3


  37              		.cfi_offset 14, -4
  38 0002 83B0     		sub	sp, sp, #12
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 24
  80:FreeRTOS/test_Src/flash.c **** TickType_t xFlashRate, xLastFlashTime;
  81:FreeRTOS/test_Src/flash.c **** UBaseType_t uxLED;
  82:FreeRTOS/test_Src/flash.c **** 
  83:FreeRTOS/test_Src/flash.c **** 	/* The parameters are not used. */
  84:FreeRTOS/test_Src/flash.c **** 	( void ) pvParameters;
  85:FreeRTOS/test_Src/flash.c **** 
  86:FreeRTOS/test_Src/flash.c **** 	/* Calculate the LED and flash rate. */
  87:FreeRTOS/test_Src/flash.c **** 	portENTER_CRITICAL();
  41              		.loc 1 87 0
  42 0004 FFF7FEFF 		bl	vPortEnterCritical
  43              	.LVL1:
  88:FreeRTOS/test_Src/flash.c **** 	{
  89:FreeRTOS/test_Src/flash.c **** 		/* See which of the eight LED's we should use. */
  90:FreeRTOS/test_Src/flash.c **** 		uxLED = uxFlashTaskNumber;
  44              		.loc 1 90 0
  45 0008 0E4B     		ldr	r3, .L4
  46 000a 1D68     		ldr	r5, [r3]
  47              	.LVL2:
  91:FreeRTOS/test_Src/flash.c **** 
  92:FreeRTOS/test_Src/flash.c **** 		/* Update so the next task uses the next LED. */
  93:FreeRTOS/test_Src/flash.c **** 		uxFlashTaskNumber++;
  48              		.loc 1 93 0
  49 000c 1A68     		ldr	r2, [r3]
  50 000e 0132     		adds	r2, r2, #1
  51 0010 1A60     		str	r2, [r3]
  94:FreeRTOS/test_Src/flash.c **** 	}
  95:FreeRTOS/test_Src/flash.c **** 	portEXIT_CRITICAL();
  52              		.loc 1 95 0
  53 0012 FFF7FEFF 		bl	vPortExitCritical
  54              	.LVL3:
  96:FreeRTOS/test_Src/flash.c **** 
  97:FreeRTOS/test_Src/flash.c **** 	xFlashRate = ledFLASH_RATE_BASE + ( ledFLASH_RATE_BASE * ( TickType_t ) uxLED );
  55              		.loc 1 97 0
  56 0016 40F24D14 		movw	r4, #333
  57 001a 05FB0444 		mla	r4, r5, r4, r4
  58              	.LVL4:
  98:FreeRTOS/test_Src/flash.c **** 	xFlashRate /= portTICK_PERIOD_MS;
  99:FreeRTOS/test_Src/flash.c **** 
 100:FreeRTOS/test_Src/flash.c **** 	/* We will turn the LED on and off again in the delay period, so each
 101:FreeRTOS/test_Src/flash.c **** 	delay is only half the total period. */
 102:FreeRTOS/test_Src/flash.c **** 	xFlashRate /= ( TickType_t ) 2;
  59              		.loc 1 102 0
  60 001e 6408     		lsrs	r4, r4, #1
  61              	.LVL5:
 103:FreeRTOS/test_Src/flash.c **** 
 104:FreeRTOS/test_Src/flash.c **** 	/* We need to initialise xLastFlashTime prior to the first call to
 105:FreeRTOS/test_Src/flash.c **** 	vTaskDelayUntil(). */
 106:FreeRTOS/test_Src/flash.c **** 	xLastFlashTime = xTaskGetTickCount();
  62              		.loc 1 106 0
  63 0020 FFF7FEFF 		bl	xTaskGetTickCount
  64              	.LVL6:
  65 0024 0190     		str	r0, [sp, #4]
  66              	.L2:
ARM GAS  /var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s 			page 4


 107:FreeRTOS/test_Src/flash.c **** 
 108:FreeRTOS/test_Src/flash.c **** 	for(;;)
 109:FreeRTOS/test_Src/flash.c **** 	{
 110:FreeRTOS/test_Src/flash.c **** 		/* Delay for half the flash period then turn the LED on. */
 111:FreeRTOS/test_Src/flash.c **** 		vTaskDelayUntil( &xLastFlashTime, xFlashRate );
  67              		.loc 1 111 0 discriminator 1
  68 0026 2146     		mov	r1, r4
  69 0028 01A8     		add	r0, sp, #4
  70 002a FFF7FEFF 		bl	vTaskDelayUntil
  71              	.LVL7:
 112:FreeRTOS/test_Src/flash.c **** 		vParTestToggleLED( uxLED );
  72              		.loc 1 112 0 discriminator 1
  73 002e 2846     		mov	r0, r5
  74 0030 FFF7FEFF 		bl	vParTestToggleLED
  75              	.LVL8:
 113:FreeRTOS/test_Src/flash.c **** 
 114:FreeRTOS/test_Src/flash.c **** 		/* Delay for half the flash period then turn the LED off. */
 115:FreeRTOS/test_Src/flash.c **** 		vTaskDelayUntil( &xLastFlashTime, xFlashRate );
  76              		.loc 1 115 0 discriminator 1
  77 0034 2146     		mov	r1, r4
  78 0036 01A8     		add	r0, sp, #4
  79 0038 FFF7FEFF 		bl	vTaskDelayUntil
  80              	.LVL9:
 116:FreeRTOS/test_Src/flash.c **** 		vParTestToggleLED( uxLED );
  81              		.loc 1 116 0 discriminator 1
  82 003c 2846     		mov	r0, r5
  83 003e FFF7FEFF 		bl	vParTestToggleLED
  84              	.LVL10:
  85 0042 F0E7     		b	.L2
  86              	.L5:
  87              		.align	2
  88              	.L4:
  89 0044 00000000 		.word	.LANCHOR0
  90              		.cfi_endproc
  91              	.LFE33:
  93              		.section	.text.vStartLEDFlashTasks,"ax",%progbits
  94              		.align	2
  95              		.global	vStartLEDFlashTasks
  96              		.thumb
  97              		.thumb_func
  99              	vStartLEDFlashTasks:
 100              	.LFB32:
  66:FreeRTOS/test_Src/flash.c **** BaseType_t xLEDTask;
 101              		.loc 1 66 0
 102              		.cfi_startproc
 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105              	.LVL11:
 106 0000 30B5     		push	{r4, r5, lr}
 107              	.LCFI2:
 108              		.cfi_def_cfa_offset 12
 109              		.cfi_offset 4, -12
 110              		.cfi_offset 5, -8
 111              		.cfi_offset 14, -4
 112 0002 83B0     		sub	sp, sp, #12
 113              	.LCFI3:
 114              		.cfi_def_cfa_offset 24
ARM GAS  /var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s 			page 5


 115 0004 0546     		mov	r5, r0
 116              	.LVL12:
  70:FreeRTOS/test_Src/flash.c **** 	{
 117              		.loc 1 70 0
 118 0006 0024     		movs	r4, #0
 119 0008 08E0     		b	.L7
 120              	.LVL13:
 121              	.L8:
  73:FreeRTOS/test_Src/flash.c **** 	}
 122              		.loc 1 73 0 discriminator 3
 123 000a 0023     		movs	r3, #0
 124 000c 0193     		str	r3, [sp, #4]
 125 000e 0095     		str	r5, [sp]
 126 0010 8022     		movs	r2, #128
 127 0012 0449     		ldr	r1, .L10
 128 0014 0448     		ldr	r0, .L10+4
 129 0016 FFF7FEFF 		bl	xTaskCreate
 130              	.LVL14:
  70:FreeRTOS/test_Src/flash.c **** 	{
 131              		.loc 1 70 0 discriminator 3
 132 001a 0134     		adds	r4, r4, #1
 133              	.LVL15:
 134              	.L7:
  70:FreeRTOS/test_Src/flash.c **** 	{
 135              		.loc 1 70 0 is_stmt 0 discriminator 1
 136 001c 022C     		cmp	r4, #2
 137 001e F4DD     		ble	.L8
  75:FreeRTOS/test_Src/flash.c **** /*-----------------------------------------------------------*/
 138              		.loc 1 75 0 is_stmt 1
 139 0020 03B0     		add	sp, sp, #12
 140              	.LCFI4:
 141              		.cfi_def_cfa_offset 12
 142              		@ sp needed
 143 0022 30BD     		pop	{r4, r5, pc}
 144              	.LVL16:
 145              	.L11:
 146              		.align	2
 147              	.L10:
 148 0024 00000000 		.word	.LC0
 149 0028 00000000 		.word	vLEDFlashTask
 150              		.cfi_endproc
 151              	.LFE32:
 153              		.section	.bss.uxFlashTaskNumber,"aw",%nobits
 154              		.align	2
 155              		.set	.LANCHOR0,. + 0
 158              	uxFlashTaskNumber:
 159 0000 00000000 		.space	4
 160              		.section	.rodata.str1.4,"aMS",%progbits,1
 161              		.align	2
 162              	.LC0:
 163 0000 4C454478 		.ascii	"LEDx\000"
 163      00
 164              		.text
 165              	.Letext0:
 166              		.file 2 "/usr/local/Cellar/gcc-arm-none-eabi/20160926/arm-none-eabi/include/machine/_default_types
 167              		.file 3 "/usr/local/Cellar/gcc-arm-none-eabi/20160926/arm-none-eabi/include/sys/_stdint.h"
 168              		.file 4 "FreeRTOS/ARM_CM3/portmacro.h"
ARM GAS  /var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s 			page 6


 169              		.file 5 "FreeRTOS/Inc/task.h"
 170              		.file 6 "FreeRTOS/control/Inc/partest.h"
ARM GAS  /var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 flash.c
/var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s:20     .text.vLEDFlashTask:0000000000000000 $t
/var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s:24     .text.vLEDFlashTask:0000000000000000 vLEDFlashTask
/var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s:89     .text.vLEDFlashTask:0000000000000044 $d
/var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s:94     .text.vStartLEDFlashTasks:0000000000000000 $t
/var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s:99     .text.vStartLEDFlashTasks:0000000000000000 vStartLEDFlashTasks
/var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s:148    .text.vStartLEDFlashTasks:0000000000000024 $d
/var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s:154    .bss.uxFlashTaskNumber:0000000000000000 $d
/var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s:158    .bss.uxFlashTaskNumber:0000000000000000 uxFlashTaskNumber
/var/folders/g9/bbpj86ld7fx45vd1b3pqxmp00000gn/T//ccsptIvz.s:161    .rodata.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
vPortEnterCritical
vPortExitCritical
xTaskGetTickCount
vTaskDelayUntil
vParTestToggleLED
xTaskCreate
